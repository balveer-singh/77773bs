<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Quiz</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap');
    body {
        margin: 0; padding: 20px;
        font-family: 'Montserrat', sans-serif;
        background: linear-gradient(135deg, #74ebd5 0%, #ACB6E5 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: flex-start;
    }
    .quiz-container {
        background: white;
        max-width: 600px;
        width: 100%;
        border-radius: 12px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        padding: 30px 40px;
        box-sizing: border-box;
        margin-top: 30px;
    }
    .timer {
        font-size: 18px;
        color: #444;
        text-align: right;
        margin-bottom: 15px;
        font-weight: 600;
        letter-spacing: 0.05em;
        user-select: none;
    }
    .question {
        font-size: 1.5rem;
        font-weight: 600;
        color: #222;
        margin-bottom: 20px;
        min-height: 80px;
        line-height: 1.3;
    }
    .options {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }
    .option-btn {
        background-color: #f5f7fa;
        border: 2px solid #d1d9e6;
        border-radius: 8px;
        padding: 12px 20px;
        font-size: 1.1rem;
        color: #555;
        cursor: pointer;
        text-align: left;
        transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
        user-select: none;
    }
    .option-btn:hover:not(:disabled) {
        background-color: #e0e7ff;
        border-color: #5964ff;
        color: #2a2e8f;
    }
    .option-btn.selected {
        background-color: #5964ff;
        border-color: #364fc7;
        color: white;
        font-weight: 600;
    }
    .option-btn:disabled {
        cursor: default;
        opacity: 0.7;
    }
    /* New styles for feedback */
    .option-btn.correct {
        background-color: #e6ffed; /* Light green */
        border-color: #2f9e44; /* Green */
        color: #2f9e44;
        font-weight: 600;
    }
    .option-btn.incorrect {
        background-color: #ffe3e3; /* Light red */
        border-color: #f03e3e; /* Red */
        color: #c92a2a;
        font-weight: 600;
    }
    .navigation {
        margin-top: 30px;
        display: flex;
        justify-content: space-between;
        gap: 10px;
    }
    .navigation button {
        flex: 1;
        padding: 14px 0;
        font-size: 1.1rem;
        font-weight: 600;
        border-radius: 50px;
        border: none;
        background-color: #5964ff;
        color: white;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(89,100,255,0.5);
        transition: background-color 0.3s ease;
        user-select: none;
    }
    .navigation button:hover:not(:disabled) {
        background-color: #2a2e8f;
        box-shadow: 0 6px 18px rgba(42,46,143,0.7);
    }
    .navigation button:disabled {
        background-color: #ccc;
        color: #777;
        cursor: not-allowed;
        box-shadow: none;
    }
    .result {
        font-size: 1.4rem;
        font-weight: 700;
        color: #364fc7;
        margin-top: 20px;
        text-align: center;
        user-select: none;
    }
    .question-tracker {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin: 20px auto;
        justify-content: center;
    }
    .question-indicator {
        width: 32px;
        height: 32px;
        line-height: 32px;
        text-align: center;
        border-radius: 50%;
        background-color: white;
        color: black;
        font-weight: bold;
        border: 2px solid #ccc;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    .question-indicator.answered {
        background-color: green;
        color: white;
        border: 2px solid darkgreen;
    }
    .question-indicator.skipped {
        background-color: #f7c948;
        color: black;
        border: 2px solid #f7c948;
    }
    .question-indicator.active {
        border: 3px solid blue;
    }
    /* Styles for the question quantity selection */
    .question-quantity-selection {
        text-align: center;
        margin-bottom: 25px;
        padding: 20px;
        border: 1px solid #eee;
        border-radius: 8px;
        background-color: #f9f9f9;
    }
    .question-quantity-selection h3 {
        margin-top: 0;
        color: #333;
        font-size: 1.3rem;
    }
    .question-quantity-selection label {
        margin: 0 15px;
        font-size: 1.1rem;
        color: #555;
        cursor: pointer;
        display: inline-block; /* To allow spacing */
        margin-bottom: 10px; /* Space out rows if they wrap */
    }
    .start-quiz-btn {
        padding: 12px 30px;
        font-size: 1.2rem;
        font-weight: 600;
        border-radius: 50px;
        border: none;
        background-color: #28a745; /* Green color */
        color: white;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(40,167,69,0.5);
        transition: background-color 0.3s ease;
        margin-top: 20px;
    }
    .start-quiz-btn:hover {
        background-color: #218838;
        box-shadow: 0 6px 18px rgba(33,136,56,0.7);
    }
    .start-quiz-btn:disabled {
        background-color: #ccc;
        cursor: not-allowed;
    }


    @media (max-width: 480px) {
        .quiz-container {
            padding: 25px 20px;
            margin-top: 20px;
        }
        .question {
            font-size: 1.25rem;
            min-height: 60px;
        }
        .option-btn {
            font-size: 1rem;
            padding: 10px 16px;
        }
        .navigation button {
            font-size: 1rem;
            padding: 12px 0;
        }
        .timer {
            font-size: 16px;
        }
        .question-quantity-selection {
            padding: 15px;
        }
        .question-quantity-selection h3 {
            font-size: 1.1rem;
        }
        .question-quantity-selection label {
            font-size: 1rem;
            margin: 0 10px;
        }
        .start-quiz-btn {
            font-size: 1.1rem;
            padding: 10px 25px;
        }
    }
</style>
</head>
<body>

<div class="quiz-container" role="main" aria-label="Quiz container">
    <div class="timer" id="timer" aria-live="polite" style="display:none;">Time Remaining: 50:00</div>
    <div class="question-tracker" id="questionTracker"></div>

    <div id="quantitySelection" class="question-quantity-selection">
        <h3>Choose your question set for the test:</h3>
        <div id="radioOptions">
            </div>
        <button class="start-quiz-btn" onclick="startQuiz()">Start Quiz</button>
    </div>

    <div id="quiz" style="display:none;">
        <div class="question" id="question" aria-live="polite">Question text will appear here</div>
        <div class="options" id="options" role="list"></div>
        <div class="navigation" role="navigation" aria-label="Quiz navigation">
            <button id="prevBtn" onclick="prevQuestion()" aria-label="Previous Question">Previous</button>
            <button id="nextBtn" onclick="nextQuestion()" aria-label="Next Question">Next</button>
            <button id="skipBtn" aria-label="Skip Question">Skip</button>
            <button id="submitBtn" onclick="endQuiz()" style="display:none;" aria-label="Submit Quiz">Submit</button>
        </div>
        <div class="result" id="result" aria-live="polite"></div>
    </div>
</div>

<script>
    const fullQuizData = [
 {
    question: "ब्लूम की टैक्सोनॉमी में कितने डोमेन होते हैं?",
    options: ["2", "3", "4", "5"],
    answer: "3"
  },
  {
    question: "ब्लूम की टैक्सोनॉमी के काग्निटिव डोमेन में कौन सा स्तर सबसे नीचला होता है?",
    options: ["विश्लेषण (Analysis)", "याद रखना (Remembering)", "मूल्यांकन (Evaluating)", "आवेदन (Applying)"],
    answer: "याद रखना (Remembering)"
  },
  {
    question: "ब्लूम की टैक्सोनॉमी में 'समझना' (Understanding) किस स्तर के अंतर्गत आता है?",
    options: ["काग्निटिव डोमेन", "अफेक्टिव डोमेन", "सायकमोटर डोमेन", "सभी उपर्युक्त"],
    answer: "काग्निटिव डोमेन"
  },
  {
    question: "ब्लूम की टैक्सोनॉमी के संशोधित संस्करण में 'समझना' शब्द को किस शब्द से बदल दिया गया है?",
    options: ["अध्ययन (Studying)", "याद रखना (Remembering)", "समझना (Understanding)", "निष्कर्ष (Conclusion)"],
    answer: "समझना (Understanding)"
  },
  {
    question: "ब्लूम की टैक्सोनॉमी के साइकोमोटर डोमेन में निम्नलिखित में से कौन सा कौशल शामिल है?",
    options: ["भावनात्मक विकास", "शारीरिक कौशल", "मानसिक कौशल", "सभी उपर्युक्त"],
    answer: "शारीरिक कौशल"
  },
  {
    question: "ब्लूम की टैक्सोनॉमी का उद्देश्य क्या है?",
    options: ["छात्रों को सीखने के लिए प्रेरित करना", "विद्यार्थियों की भावनाओं को बढ़ाना", "विद्यार्थियों के ज्ञान को परखना", "सभी उपर्युक्त"],
    answer: "सभी उपर्युक्त"
  },
  {
    question: "ब्लूम की टैक्सोनॉमी में 'विश्लेषण' (Analysis) किस स्तर के अंतर्गत आता है?",
    options: ["याद रखना (Remembering)", "समझना (Understanding)", "विश्लेषण (Analysis)", "मूल्यांकन (Evaluating)"],
    answer: "विश्लेषण (Analysis)"
  },
  {
    question: "'ब्लूम की टैक्सोनॉमी' का कौन सा डोमेन छात्रों के मानसिक कौशल को परखता है?",
    options: ["काग्निटिव डोमेन", "अफेक्टिव डोमेन", "साइकोमोटर डोमेन", "इनमें से कोई नहीं"],
    answer: "काग्निटिव डोमेन"
  },
  {
    question: "ब्लूम की टैक्सोनॉमी में 'सिंथेसिस' का क्या अर्थ है?",
    options: ["नए विचारों को उत्पन्न करना", "सामग्री का विश्लेषण करना", "मूल्यांकन करना", "जानकारी को याद रखना"],
    answer: "नए विचारों को उत्पन्न करना"
  },
  {
    question: "ब्लूम की टैक्सोनॉमी के संशोधित संस्करण में 'सिंथेसिस' को किस शब्द से बदला गया है?",
    options: ["सृजन (Creating)", "विश्लेषण (Analysis)", "समझना (Understanding)", "आवेदन (Applying)"],
    answer: "सृजन (Creating)"
  },
  {
    question: "ब्लूम की टैक्सोनॉमी के काग्निटिव डोमेन में कुल कितने स्तर होते हैं?",
    options: ["5", "6", "4", "7"],
    answer: "6"
  },
  {
    question: "'स्मरण' (Remember) किस स्तर के अंतर्गत आता है?",
    options: ["काग्निटिव डोमेन", "अफेक्टिव डोमेन", "साइकोमोटर डोमेन", "इनमें से कोई नहीं"],
    answer: "काग्निटिव डोमेन"
  },
  {
    question: "ब्लूम की टैक्सोनॉमी में 'समझना' (Understand) किस स्तर के अंतर्गत आता है?",
    options: ["निचला स्तर", "उच्च स्तर", "मानसिक स्तर", "सारे डोमेन"],
    answer: "निचला स्तर"
  },
  {
    question: "ब्लूम की टैक्सोनॉमी के 'मूल्यांकन' (Evaluation) स्तर का मुख्य उद्देश्य क्या है?",
    options: ["याद रखना", "समस्याओं को हल करना", "विचारों का मूल्यांकन करना", "संबंधों का विश्लेषण करना"],
    answer: "विचारों का मूल्यांकन करना"
  },
  {
    question: "ब्लूम की टैक्सोनॉमी में 'सृजन' (Creating) स्तर का क्या अर्थ है?",
    options: ["नया विचार उत्पन्न करना", "जानकारी को दोहराना", "विचारों का विश्लेषण करना", "किसी जानकारी को याद रखना"],
    answer: "नया विचार उत्पन्न करना"
  },
  {
    question: "ब्लूम की टैक्सोनॉमी में 'गाइडेड प्रतिक्रिया' (Guided Response) किस डोमेन के अंतर्गत आता है?",
    options: ["काग्निटिव डोमेन", "साइकोमोटर डोमेन", "अफेक्टिव डोमेन", "इनमें से कोई नहीं"],
    answer: "साइकोमोटर डोमेन"
  },
    {
    question: "'स्वीकृति' (Receiving) किस डोमेन में आता है?",
    options: ["साइकोमोटर डोमेन", "काग्निटिव डोमेन", "अफेक्टिव डोमेन", "सभी उपर्युक्त"],
    answer: "अफेक्टिव डोमेन"
  },
  {
    question: "ब्लूम की टैक्सोनॉमी के संशोधित संस्करण में 'सिंथेसिस' को किस शब्द से बदला गया है?",
    options: ["सृजन (Creating)", "मूल्यांकन (Evaluating)", "विश्लेषण (Analysis)", "समझना (Understanding)"],
    answer: "सृजन (Creating)"
  },
  {
    question: "ब्लूम की टैक्सोनॉमी के 'मूल्यांकन' (Evaluation) स्तर में निम्नलिखित में से कौन सा कार्य शामिल है?",
    options: ["निर्णय लेना", "जानकारी की व्याख्या करना", "नई संरचना बनाना", "किसी जानकारी का परीक्षण करना"],
    answer: "निर्णय लेना"
  },
  {
    question: "एनएसक्यूएफ के अंतर्गत काग्निटिव डोमेन के लिए कौन सा स्तर जिम्मेदारी से संबंधित है?",
    options: ["प्रक्रिया", "पेशेवर कौशल", "कार्यात्मक कौशल", "जिम्मेदारी"],
    answer: "जिम्मेदारी"
  },
  {
    question: "परीक्षा का उद्देश्य क्या होता है?",
    options: [
      "छात्र की समझ को मापना",
      "शिक्षक की सफलता को मापना",
      "छात्रों के ज्ञान का मूल्यांकन करना",
      "सभी उपर्युक्त"
    ],
    answer: "सभी उपर्युक्त"
  },
  {
    question: "परीक्षा की किस विधि को मान्यता प्राप्त परीक्षा निकाय द्वारा आयोजित किया जाता है?",
    options: [
      "गैर-मानकीकृत परीक्षा (Formative)",
      "मानकीकृत परीक्षा (Summative)",
      "मौखिक परीक्षा (Oral)",
      "प्रदर्शन परीक्षा (Performance)"
    ],
    answer: "मानकीकृत परीक्षा (Summative)"
  },
  {
    question: "निम्नलिखित में से कौन सी परीक्षा विधि का उदाहरण है?",
    options: [
      "ओपेन बुक परीक्षा",
      "मल्टीपल चॉइस प्रश्न",
      "व्यक्तिगत साक्षात्कार",
      "व्यक्तिगत प्रैक्टिकल परीक्षण"
    ],
    answer: "मल्टीपल चॉइस प्रश्न"
  },
  {
    question: "'नॉलेज रीकॉल' के स्तर पर प्रश्नों के लिए उपयुक्त क्रिया शब्द कौन सा है?",
    options: ["तुलना करना", "परिभाषित करना", "विश्लेषण करना", "समस्या हल करना"],
    answer: "परिभाषित करना"
  },
  {
    question: "निम्नलिखित में से कौन सा परीक्षण वस्तुनिष्ठ (objective) परीक्षण का उदाहरण है?",
    options: [
      "निबंध आधारित परीक्षा",
      "बहुविकल्पीय प्रश्न",
      "साक्षात्कार",
      "समूह चर्चा"
    ],
    answer: "बहुविकल्पीय प्रश्न"
  },
  {
    question: "'कक्षा के भीतर छात्रों का मूल्यांकन' किस प्रकार की परीक्षा है?",
    options: [
      "प्रपत्रात्मक परीक्षा",
      "निर्माणात्मक परीक्षा (Formative)",
      "अंतिम परीक्षा (Summative)",
      "प्रदर्शन आधारित परीक्षा"
    ],
    answer: "निर्माणात्मक परीक्षा (Formative)"
  },
  {
    question: "किस स्तर पर प्रश्न ज्ञान के उपयोग और लागू करने की क्षमता को मापते हैं?",
    options: [
      "समस्या समाधान",
      "सिद्धांतों और नियमों का प्रयोग",
      "याददाश्त",
      "जानकारी का संकलन"
    ],
    answer: "सिद्धांतों और नियमों का प्रयोग"
  },
  {
    question: "निम्नलिखित में से कौन सा परीक्षण वस्तुनिष्ठ परीक्षण में से एक है?",
    options: [
      "सही या गलत (True/False)",
      "निबंध प्रश्न",
      "साक्षात्कार",
      "रिपोर्ट लेखन"
    ],
    answer: "सही या गलत (True/False)"
  },
  {
    question: "'प्रदर्शन परीक्षण' का उद्देश्य क्या होता है?",
    options: [
      "छात्रों की सैद्धांतिक जानकारी का मूल्यांकन करना",
      "छात्रों के व्यावहारिक कौशल का मूल्यांकन करना",
      "छात्रों की याददाश्त की क्षमता का मूल्यांकन करना",
      "छात्रों की लिखित क्षमता का मूल्यांकन करना"
    ],
    answer: "छात्रों के व्यावहारिक कौशल का मूल्यांकन करना"
  },
  {
    question: "प्रश्नों की जटिलता को कितने स्तरों में बांटा गया है?",
    options: ["2 स्तर", "3 स्तर", "4 स्तर", "5 स्तर"],
    answer: "3 स्तर"
  },
  {
    question: "निम्नलिखित में से संक्षिप्त उत्तर प्रकार प्रश्न की सही संरचना क्या है?",
    options: [
      "स्टेम / स्थिति, प्रश्न, उदाहरण, दिशा-निर्देश",
      "स्टेम / स्थिति, दिशा-निर्देश, उत्तर, कुंजी",
      "स्टेम, उत्तर, व्याख्या, कुंजी",
      "स्टेम, प्रश्न, उत्तर, व्याख्या"
    ],
    answer: "स्टेम / स्थिति, प्रश्न, उदाहरण, दिशा-निर्देश"
  },
  {
    question: "मिलाने वाले उत्तर प्रकार प्रश्न में, प्रिमिसेस को हमेशा किसके साथ नामित किया जाना चाहिए?",
    options: ["अक्षर", "संख्याएँ", "रोमन अंक", "उपरोक्त में से कोई नहीं"],
    answer: "संख्याएँ"
  },
    {
    question: "बहुविकल्पी प्रश्नों का प्राथमिक उद्देश्य क्या है?",
    options: [
      "स्मृति की याददाश्त का परीक्षण करना",
      "तथ्यों और सिद्धांतों के आवेदन का परीक्षण करना",
      "व्यावहारिक कौशल का मापना",
      "लेखन क्षमता का आकलन करना"
    ],
    answer: "तथ्यों और सिद्धांतों के आवेदन का परीक्षण करना"
  },
  {
    question: "संक्षिप्त उत्तर प्रकार प्रश्न की संरचना में कौन सा घटक नहीं होता है?",
    options: [
      "स्थिति / स्टेम",
      "प्रश्न",
      "उत्तर की लंबाई",
      "दिशा-निर्देश"
    ],
    answer: "उत्तर की लंबाई"
  },
  {
    question: "मिलाने वाले उत्तर प्रकार प्रश्न में, विकल्पों को किस प्रकार से व्यवस्थित किया जाना चाहिए?",
    options: [
      "उत्तरों को बड़े से छोटे क्रम में",
      "उत्तरों को छोटे से बड़े क्रम में",
      "किसी विशेष क्रम में नहीं",
      "उत्तरों को अराजक तरीके से व्यवस्थित किया जाता है"
    ],
    answer: "किसी विशेष क्रम में नहीं"
  },
  {
    question: "बहुविकल्पी प्रश्न में, \"सही उत्तर\" को क्या कहा जाता है?",
    options: [
      "कुंजी",
      "विकर्ण",
      "विकल्प",
      "गलत उत्तर"
    ],
    answer: "कुंजी"
  },
  {
    question: "मिलाने वाले उत्तर प्रकार प्रश्न में, प्रिमिसेस और उत्तरों के बीच क्या अंतर है?",
    options: [
      "प्रिमिसेस छोटे होते हैं और उत्तर बड़े",
      "प्रिमिसेस हमेशा संख्याओं के साथ नामित होते हैं, उत्तर अक्षरों के साथ",
      "प्रिमिसेस और उत्तरों में कोई अंतर नहीं होता",
      "प्रिमिसेस का आकार उत्तरों से कम होता है"
    ],
    answer: "प्रिमिसेस हमेशा संख्याओं के साथ नामित होते हैं, उत्तर अक्षरों के साथ"
  },
  {
    question: "एक अच्छे परीक्षा प्रश्न में निम्नलिखित में से कौन सी विशेषता होनी चाहिए?",
    options: [
      "अनिश्चितता",
      "स्पष्टता",
      "सटीकता की कमी",
      "अस्पष्टता"
    ],
    answer: "स्पष्टता"
  },
  {
    question: "परीक्षण (Test) का उद्देश्य क्या है?",
    options: [
      "छात्रों का मानसिक विश्लेषण करना",
      "छात्रों के ज्ञान का मूल्यांकन करना",
      "छात्रों की कार्यक्षमता को कम करना",
      "छात्रों को नया विषय सिखाना"
    ],
    answer: "छात्रों के ज्ञान का मूल्यांकन करना"
  },
  {
    question: "आंतरिक सत्यापन (Internal Validation) का उद्देश्य क्या है?",
    options: [
      "यह यह जांचने के लिए किया जाता है कि प्रशिक्षण ने निर्धारित व्यवहारिक उद्देश्यों को पूरा किया है या नहीं",
      "यह प्रशिक्षण की गुणवत्ता को बढ़ाने के लिए किया जाता है",
      "यह बाहरी निरीक्षकों द्वारा किया जाता है",
      "यह केवल परीक्षा के बाद किया जाता है"
    ],
    answer: "यह यह जांचने के लिए किया जाता है कि प्रशिक्षण ने निर्धारित व्यवहारिक उद्देश्यों को पूरा किया है या नहीं"
  },
  {
    question: "सारांश मूल्यांकन (Summative Evaluation) किस समय किया जाता है?",
    options: [
      "प्रशिक्षण कार्यक्रम के शुरू होने से पहले",
      "कार्यक्रम के बीच में",
      "कार्यक्रम के अंत में",
      "कार्यक्रम की शुरुआत और अंत दोनों में"
    ],
    answer: "कार्यक्रम के अंत में"
  },
  {
    question: "निम्नलिखित में से कौन सा पहलू एक अच्छा मूल्यांकन परीक्षण (Good Evaluation Test) का हिस्सा नहीं है?",
    options: [
      "सत्यापन (Validation)",
      "विश्वसनीयता (Reliability)",
      "अनिश्चितता (Uncertainty)",
      "उद्देश्य (Objectivity)"
    ],
    answer: "अनिश्चितता (Uncertainty)"
  },
  {
    question: "प्रशिक्षण परिणामों का विश्लेषण क्यों महत्वपूर्ण है?",
    options: [
      "छात्रों की प्रगति और कार्यक्रम की सफलता का मूल्यांकन करने के लिए",
      "केवल छात्रों के बारे में जानकारी प्राप्त करने के लिए",
      "केवल शिक्षकों के प्रदर्शन का मूल्यांकन करने के लिए",
      "प्रशिक्षण सामग्री को सहेजने के लिए"
    ],
    answer: "छात्रों की प्रगति और कार्यक्रम की सफलता का मूल्यांकन करने के लिए"
  },
  {
    question: "किसे 'टेस्ट' कहा जाता है?",
    options: [
      "छात्र का ज्ञान मापने के लिए एक उपकरण",
      "छात्रों के व्यवहार का मूल्यांकन",
      "पाठ्यक्रम का विकास",
      "शिक्षा का संचालन"
    ],
    answer: "छात्र का ज्ञान मापने के लिए एक उपकरण"
  },
  {
    question: "आकलन (Assessment) का उद्देश्य क्या है?",
    options: [
      "छात्रों का निष्कलंक मूल्यांकन करना",
      "छात्रों की क्षमता और ज्ञान का मापन",
      "शिक्षकों की कार्य क्षमता का मूल्यांकन",
      "केवल परिणाम का जाँच करना"
    ],
    answer: "छात्रों की क्षमता और ज्ञान का मापन"
  },
  {
    question: "किस प्रकार की मूल्यांकन प्रणाली को 'समीक्षा' (Evaluation) कहा जाता है?",
    options: [
      "किसी कार्यक्रम या प्रशिक्षण के परिणामों पर आधारित निर्णय लेना",
      "केवल छात्रों का परीक्षण करना",
      "आंतरिक परीक्षणों का आयोजन",
      "छात्रों का साप्ताहिक परीक्षा"
    ],
    answer: "किसी कार्यक्रम या प्रशिक्षण के परिणामों पर आधारित निर्णय लेना"
  },
   {
    question: "Kirkpatrick के चार स्तरीय मूल्यांकन मॉडल में किसे 'आचरण' (Behavior) कहा जाता है?",
    options: [
      "प्रशिक्षण के बाद छात्रों के व्यवहार में बदलाव का माप",
      "प्रशिक्षण के परिणामों का माप",
      "छात्रों के ज्ञान में वृद्धि का माप",
      "प्रशिक्षण के प्रति छात्रों की प्रतिक्रिया"
    ],
    answer: "प्रशिक्षण के बाद छात्रों के व्यवहार में बदलाव का माप"
  },
  {
    question: "Kirkpatrick मॉडल के अनुसार, किस स्तर पर यह मूल्यांकन किया जाता है कि क्या प्रशिक्षण से व्यापार को लाभ हुआ है?",
    options: [
      "प्रतिक्रिया (Reaction)",
      "सीखना (Learning)",
      "आचरण (Behavior)",
      "परिणाम (Results)"
    ],
    answer: "परिणाम (Results)"
  },
  {
    question: "समीक्षा और आंतरिक/बाहरी सत्यापन (Validation) के बीच क्या अंतर है?",
    options: [
      "समीक्षा केवल छात्रों के लिए है, जबकि सत्यापन प्रशिक्षण कार्यक्रम के लिए है",
      "आंतरिक सत्यापन को केवल पाठ्यक्रम के निर्माता करते हैं",
      "बाहरी सत्यापन प्रशिक्षण की गुणवत्ता और प्रभाव का माप करता है",
      "समीक्षा केवल ज्ञान पर आधारित होती है"
    ],
    answer: "बाहरी सत्यापन प्रशिक्षण की गुणवत्ता और प्रभाव का माप करता है"
  },
  {
    question: "Kirkpatrick मॉडल के कौन से स्तर में प्रशिक्षण की गुणवत्ता के बारे में छात्रों से प्रतिक्रिया प्राप्त की जाती है?",
    options: [
      "प्रतिक्रिया (Reaction)",
      "सीखना (Learning)",
      "आचरण (Behavior)",
      "परिणाम (Results)"
    ],
    answer: "प्रतिक्रिया (Reaction)"
  },
  {
    question: "समान्य मूल्यांकन में कौन सा उद्देश्य नहीं होता?",
    options: [
      "छात्रों की प्रगति मापना",
      "शिक्षक की क्षमता मापना",
      "कार्य को सुधारने के लिए प्रतिक्रिया प्राप्त करना",
      "सिर्फ जानकारी इकट्ठा करना"
    ],
    answer: "सिर्फ जानकारी इकट्ठा करना"
  },
  {
    question: "Kirkpatrick के स्तर 2 (सीखना) का उद्देश्य क्या है?",
    options: [
      "यह मापना कि छात्रों ने प्रशिक्षण के दौरान कितना ज्ञान प्राप्त किया",
      "यह मापना कि छात्रों का व्यवहार प्रशिक्षण के बाद कैसे बदला",
      "यह मापना कि छात्रों को किस प्रकार की प्रतिक्रिया मिली",
      "यह मापना कि छात्रों ने अपने कौशल में कितनी सुधार की"
    ],
    answer: "यह मापना कि छात्रों ने प्रशिक्षण के दौरान कितना ज्ञान प्राप्त किया"
  },
  {
    question: "आंतरिक सत्यापन (Internal Validation) का उद्देश्य क्या है?",
    options: [
      "यह मापना कि प्रशिक्षण कार्यक्रम ने निर्धारित व्यवहारात्मक लक्ष्यों को प्राप्त किया है या नहीं",
      "प्रशिक्षण के बाद छात्रों की प्रतिक्रिया को प्राप्त करना",
      "बाहरी परीक्षणों से परिणामों की तुलना करना",
      "केवल छात्रों के कार्य को मापना"
    ],
    answer: "यह मापना कि प्रशिक्षण कार्यक्रम ने निर्धारित व्यवहारात्मक लक्ष्यों को प्राप्त किया है या नहीं"
  },
  {
    question: "ऑब्जेक्टिव प्रकार के परीक्षण को कैसे अंकित किया जाता है?",
    options: [
      "व्यक्तिगत विचारों पर आधारित",
      "केवल विषयगत निर्णय द्वारा",
      "वस्तुनिष्ठ रूप से, क्योंकि एक सही उत्तर होता है",
      "हाथ की लिखावट की गुणवत्ता के आधार पर"
    ],
    answer: "वस्तुनिष्ठ रूप से, क्योंकि एक सही उत्तर होता है"
  },
  {
    question: "ऑब्जेक्टिव प्रकार के परीक्षण का मुख्य दोष क्या है?",
    options: [
      "अंकों का मूल्यांकन समय-साध्य होता है",
      "उत्तरों का अनुमान लगाने की संभावना होती है",
      "मूल्यांकन कठिन होता है",
      "इसमें विस्तृत उत्तर की आवश्यकता होती है"
    ],
    answer: "उत्तरों का अनुमान लगाने की संभावना होती है"
  },
  {
    question: "मल्टीपल चॉइस टेस्ट का मुख्य उद्देश्य क्या है?",
    options: [
      "छात्र की अभिव्यक्ति को मापना",
      "छात्रों की समस्या समाधान क्षमता का मूल्यांकन करना",
      "केवल यादाश्त की जांच करना",
      "छात्र के लेखन कौशल को मापना"
    ],
    answer: "छात्रों की समस्या समाधान क्षमता का मूल्यांकन करना"
  },
  {
    question: "ऑब्जेक्टिव टेस्ट के लाभ में से कौन सा सही है?",
    options: [
      "मूल्यांकन में व्यक्तिगत राय का प्रभाव होता है",
      "सभी विषयों को आसानी से कवर किया जा सकता है",
      "इसे डिज़ाइन करना बहुत आसान है",
      "यह केवल सरल कौशल को मापने के लिए उपयुक्त है"
    ],
    answer: "सभी विषयों को आसानी से कवर किया जा सकता है"
  },
  {
    question: "किसी मल्टीपल चॉइस प्रश्न का \"स्टेम\" किसे कहते हैं?",
    options: [
      "उत्तरों का चयन",
      "प्रश्न का मुख्य हिस्सा जिसमें जानकारी दी जाती है",
      "सही उत्तर",
      "गलत विकल्प"
    ],
    answer: "प्रश्न का मुख्य हिस्सा जिसमें जानकारी दी जाती है"
  },
  {
    question: "ऑब्जेक्टिव प्रकार के परीक्षण के डिज़ाइन में शिक्षक को किस बात का ध्यान रखना चाहिए?",
    options: [
      "प्रश्नों की कोई पुनरावृत्ति नहीं होनी चाहिए",
      "प्रश्नों को जितना संभव हो उतना सरल बनाना चाहिए",
      "प्रश्नों में स्पष्ट संकेत होने चाहिए",
      "ऊपर सभी"
    ],
    answer: "ऊपर सभी"
  },
  {
    question: "ऑब्जेक्टिव टेस्ट के किस प्रकार के सवाल सबसे ज्यादा परीक्षण किए जाते हैं?",
    options: [
      "लघु उत्तर प्रकार",
      "प्रकार का मिलान (Matching Type)",
      "मल्टीपल चॉइस प्रकार",
      "सटीक गलत (True/False)"
    ],
    answer: "मल्टीपल चॉइस प्रकार"
  },
  {
    question: 'एक मल्टीपल चॉइस प्रश्न में "डिस्ट्रैक्टर" का क्या अर्थ है?',
    options: [
      'सही उत्तर',
      'एक विकल्प जो छात्रों को भ्रमित करने के लिए है',
      'प्रश्न का मुख्य हिस्सा',
      'कोई अतिरिक्त जानकारी'
    ],
    answer: 'एक विकल्प जो छात्रों को भ्रमित करने के लिए है'
  },
  {
    question: 'ऑब्जेक्टिव टेस्ट का एक मुख्य लाभ क्या है?',
    options: [
      'इसका मूल्यांकन लंबा और जटिल होता है',
      'सही उत्तर की पहचान करना आसान होता है',
      'यह केवल उच्च-स्तरीय सोच के कौशल को मापता है',
      'इसके माध्यम से छात्र के व्यक्तित्व को मापा जा सकता है'
    ],
    answer: 'सही उत्तर की पहचान करना आसान होता है'
  },
  {
    question: 'जब मल्टीपल चॉइस प्रश्न की संरचना की जाती है, तो कितने विकल्प होने चाहिए?',
    options: ['तीन', 'चार', 'पांच', 'दो'],
    answer: 'चार'
  },
  {
    question: 'ऑब्जेक्टिव प्रकार के परीक्षण के डिज़ाइन में प्रमुख ध्यान किस पर होना चाहिए?',
    options: [
      'छात्रों की याददाश्त पर',
      'छात्र के सोचने की क्षमता और समझ पर',
      'छात्र के व्यवहार पर',
      'छात्र के व्यक्तिगत विचारों पर'
    ],
    answer: 'छात्र के सोचने की क्षमता और समझ पर'
  },
  {
    question: 'एक ऑब्जेक्टिव प्रश्न पत्र तैयार करते समय किसे प्राथमिकता दी जानी चाहिए?',
    options: [
      'प्रश्नों की विविधता और अस्पष्टता',
      'समान्य और जटिल प्रश्नों का संतुलन',
      'केवल सरल प्रश्न',
      'केवल तकनीकी प्रश्न'
    ],
    answer: 'समान्य और जटिल प्रश्नों का संतुलन'
  },
  {
    question: 'टेस्ट प्रोफाइल की भूमिका क्या है?',
    options: [
      'परीक्षण के लिए प्रश्नों की सूची तैयार करना',
      'परीक्षण के परिणामों का विश्लेषण करना',
      'प्रश्नपत्र के विकास की निगरानी करना और सामग्री का वैधता सुनिश्चित करना',
      'छात्रों को अभ्यास देने के लिए मॉडल प्रश्न बनाना'
    ],
    answer: 'प्रश्नपत्र के विकास की निगरानी करना और सामग्री का वैधता सुनिश्चित करना'
  },
  {
    question: 'ऑब्जेक्टिव परीक्षण का एक मुख्य नुकसान क्या है?',
    options: [
      'इसका मूल्यांकन आसान होता है',
      'इसमें नकल की संभावना अधिक होती है',
      'यह छात्र की वास्तविक क्षमता को मापता है',
      'इसे डिज़ाइन करना बहुत आसान होता है'
    ],
    answer: 'इसमें नकल की संभावना अधिक होती है'
  },
  {
    question: 'ऑब्जेक्टिव परीक्षण में ट्रिकी प्रश्नों से क्या बचना चाहिए?',
    options: [
      'हाँ, क्योंकि ये विद्यार्थियों को भ्रमित कर सकते हैं',
      'नहीं, ये परीक्षण को कठिन बनाते हैं',
      'हाँ, लेकिन ये महत्वपूर्ण होते हैं',
      'नहीं, ये सही सोच को मापने के लिए आवश्यक होते हैं'
    ],
    answer: 'हाँ, क्योंकि ये विद्यार्थियों को भ्रमित कर सकते हैं'
  },
  {
    question: 'निम्नलिखित में से कौन सा विकल्प "लक्ष्य निर्धारण" की प्रक्रिया का एक हिस्सा नहीं है?',
    options: [
      'योजना बनाना',
      'उद्देश्य निर्धारित करना',
      'समय सीमा तय करना',
      'परीक्षण करना'
    ],
    answer: 'परीक्षण करना'
  },
  {
    question: '"संवेदनशीलता का मूल्यांकन" किस प्रकार के मूल्यांकन में आता है?',
    options: [
      'प्रेरणा मूल्यांकन',
      'शारीरिक मूल्यांकन',
      'मानसिक मूल्यांकन',
      'व्यक्तिगत मूल्यांकन'
    ],
    answer: 'शारीरिक मूल्यांकन'
  },
  {
    question: 'निम्नलिखित में से कौन सा उद्देश्य मूल्यांकन का एक लाभ नहीं है?',
    options: [
      'यह सीखने की प्रक्रिया को बेहतर बनाता है',
      'छात्रों के आत्मविश्वास को बढ़ाता है',
      'मूल्यांकन के लिए कोई नियम नहीं होते',
      'यह ग्रेडिंग को आसान बनाता है'
    ],
    answer: 'मूल्यांकन के लिए कोई नियम नहीं होते'
  },
  {
    question: 'फॉर्मेटिव मूल्यांकन का मुख्य उद्देश्य क्या है?',
    options: [
      'छात्रों के अंतर्गत प्राप्त ज्ञान का अंतिम मूल्यांकन',
      'विद्यार्थियों के प्रदर्शन के बारे में समय समय पर प्रतिक्रिया देना',
      'कक्षा के समग्र परिणाम को जानना',
      'छात्रों की अंतिम परीक्षा लेना'
    ],
    answer: 'विद्यार्थियों के प्रदर्शन के बारे में समय समय पर प्रतिक्रिया देना'
  },
  {
    question: '"कक्षा में प्रभावी प्रतिक्रिया प्रदान करना" निम्नलिखित में से किस प्रकार के मूल्यांकन का हिस्सा है?',
    options: [
      'समाहार मूल्यांकन',
      'संवाद मूल्यांकन',
      'फॉर्मेटिव मूल्यांकन',
      'अनौपचारिक मूल्यांकन'
    ],
    answer: 'फॉर्मेटिव मूल्यांकन'
  },
  {
    question: 'संपूर्ण कक्षा में छात्रों का ज्ञान और कौशल मापने के लिए कौन सा मूल्यांकन तरीका सबसे उपयुक्त है?',
    options: [
      'समाहार मूल्यांकन',
      'फॉर्मेटिव मूल्यांकन',
      'ओपन बुक मूल्यांकन',
      'वर्ड प्रोसेसिंग मूल्यांकन'
    ],
    answer: 'समाहार मूल्यांकन'
  },
  {
    question: '"नेशनल काउंसिल फॉर वोकेशनल ट्रेनिंग" (NCVT) द्वारा संचालित परीक्षा किस प्रकार की होती है?',
    options: [
      'बुनियादी परीक्षा',
      'ट्रेड थ्योरी और व्यापार अभ्यास',
      'केवल लिखित परीक्षा',
      'केवल वर्बल परीक्षा'
    ],
    answer: 'ट्रेड थ्योरी और व्यापार अभ्यास'
  },
  {
    question: 'निम्नलिखित में से कौन सा मूल्यांकन का सबसे प्रमुख उद्देश्य है?',
    options: [
      'छात्रों के ज्ञान और कौशल की जांच करना',
      'केवल अंक प्रदान करना',
      'छात्रों के साथ प्रतिस्पर्धा करना',
      'पठन और लेखन के कौशल का मूल्यांकन करना'
    ],
    answer: 'छात्रों के ज्ञान और कौशल की जांच करना'
  },
   {
    question: '"मूल्यांकन के बारे में आत्मनिरीक्षण करना" किस प्रकार के मूल्यांकन में आता है?',
    options: [
      'समाहार मूल्यांकन',
      'फॉर्मेटिव मूल्यांकन',
      'आत्ममूल्यांकन',
      'ग्रेड आधारित मूल्यांकन'
    ],
    answer: 'आत्ममूल्यांकन'
  },
  {
    question: 'कंप्यूटर कौशल का मूल्यांकन किस प्रकार के परीक्षण द्वारा किया जाता है?',
    options: [
      'विशेषज्ञ परीक्षा',
      'रचनात्मक परीक्षा',
      'स्वचालित परीक्षण',
      'प्रदर्शन मूल्यांकन'
    ],
    answer: 'प्रदर्शन मूल्यांकन'
  },
  {
    question: 'NSQF का पूरा रूप क्या है?',
    options: [
      'नेशनल स्कूल क्वालिफिकेशन फ्रेमवर्क',
      'राष्ट्रीय कौशल योग्यता फ्रेमवर्क',
      'राष्ट्रीय विज्ञान गुणवत्ता फ्रेमवर्क',
      'नेशनल सिस्टम क्वालिफिकेशन फ्रेमवर्क'
    ],
    answer: 'राष्ट्रीय कौशल योग्यता फ्रेमवर्क'
  },
  {
    question: "NSQF में 'Competence' का क्या अर्थ है?",
    options: [
      'किसी कार्य को बिना किसी मदद के करना',
      'ज्ञान और कौशल का मिश्रण',
      'किसी कार्य में क्षमता और जिम्मेदारी के साथ भूमिका निभाने की योग्यता',
      'अध्ययन का एक निर्धारित पाठ्यक्रम'
    ],
    answer: 'किसी कार्य में क्षमता और जिम्मेदारी के साथ भूमिका निभाने की योग्यता'
  },
  {
    question: 'NSQF के किस स्तर में एक व्यक्ति को किसी कार्य को स्वतंत्र रूप से करने की क्षमता अपेक्षित होती है?',
    options: ['स्तर 1', 'स्तर 3', 'स्तर 5', 'स्तर 8'],
    answer: 'स्तर 5'
  },
  {
    question: "NSQF में 'Learning Outcomes' का क्या अर्थ है?",
    options: [
      'एक प्रशिक्षु द्वारा सीखी गई जानकारी और कौशल',
      'एक प्रशिक्षु का शिक्षा स्तर',
      'एक पाठ्यक्रम के अंतर्गत किए गए कार्य',
      'किसी कार्यक्रम के दौरान ली गई छुट्टियाँ'
    ],
    answer: 'एक प्रशिक्षु द्वारा सीखी गई जानकारी और कौशल'
  },
  {
    question: 'NSQF में कितने स्तर होते हैं?',
    options: ['5', '8', '10', '12'],
    answer: '10'
  },
  {
    question: "'RPL' का पूरा रूप क्या है?",
    options: [
      'Recognized Prior Learning',
      'Recorded Previous Learning',
      'Required Prior Learning',
      'Recognized Practical Learning'
    ],
    answer: 'Recognized Prior Learning'
  },
  {
    question: 'NSQF के तहत प्रशिक्षण के लिए किसकी जिम्मेदारी होती है?',
    options: [
      'केवल राज्य सरकार',
      'केवल निजी संस्थान',
      'प्रशिक्षक, संस्थान और राज्य निदेशालय',
      'केवल राष्ट्रीय कौशल विकास एजेंसी'
    ],
    answer: 'प्रशिक्षक, संस्थान और राज्य निदेशालय'
  },
  {
    question: 'NSQF का उद्देश्य क्या है?',
    options: [
      'प्रशिक्षण का स्तर निर्धारित करना',
      'कौशल और योग्यताओं को एक निर्धारित मानक पर लाना',
      'केवल सैद्धांतिक ज्ञान प्रदान करना',
      'कार्ययों के लिए नए उपकरण विकसित करना'
    ],
    answer: 'कौशल और योग्यताओं को एक निर्धारित मानक पर लाना'
  },
  {
    question: 'NSQF के अंतर्गत किस प्रकार के कौशल का मूल्यांकन किया जाता है?',
    options: [
      'केवल सिद्धांत आधारित कौशल',
      'केवल व्यावहारिक कौशल',
      'दोनों सिद्धांत और व्यावहारिक कौशल',
      'कोई कौशल नहीं मूल्यांकित किया जाता'
    ],
    answer: 'दोनों सिद्धांत और व्यावहारिक कौशल'
  },
  {
    question: 'NSQF के तहत शिक्षकों की भूमिका क्या है?',
    options: [
      'केवल छात्रों को जानकारी प्रदान करना',
      'विद्यार्थियों के लिए पाठ्यक्रम तैयार करना',
      'प्रशिक्षुओं को सीखने के परिणामों के अनुसार प्रशिक्षण प्रदान करना',
      'किसी भी प्रकार की सहायता न देना'
    ],
    answer: 'प्रशिक्षुओं को सीखने के परिणामों के अनुसार प्रशिक्षण प्रदान करना'
  }
  ];

let quizData = []; // This will hold the selected subset of questions
let currentQuestion = 0;
let selectedAnswers = [];
let skippedQuestions = [];
let totalTime = 50 * 60; // 50 minutes in seconds
let timerInterval;
let quizStarted = false;

// --- Confirmation Pop-up on Refresh/Close ---
window.addEventListener('beforeunload', function (event) {
    if (quizStarted && totalTime > 0) {
        event.preventDefault();
        event.returnValue = '';
    }
});
// --- End Confirmation Pop-up ---


function startTimer() {
    updateTimer();
    timerInterval = setInterval(() => {
        totalTime--;
        updateTimer();
        if (totalTime <= 0) {
            clearInterval(timerInterval);
            endQuiz();
        }
    }, 1000);
}

function updateTimer() {
    const minutes = Math.floor(totalTime / 60);
    const seconds = totalTime % 60;
    document.getElementById("timer").innerText = `Time Remaining: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
}

// Function to shuffle an array (Fisher-Yates algorithm)
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

function startQuiz() {
    const selectedRadio = document.querySelector('input[name="questionSet"]:checked');
    if (!selectedRadio) {
        alert("Please select a question set to start the quiz.");
        return;
    }
    const selectedValue = selectedRadio.value;

    if (selectedValue.startsWith('set_')) {
        const setIndex = parseInt(selectedValue.split('_')[1]);
        const startIndex = setIndex * 25;
        const endIndex = startIndex + 25;
        quizData = fullQuizData.slice(startIndex, endIndex);
    } else if (selectedValue === 'full') {
        quizData = shuffleArray([...fullQuizData]); // Shuffle all questions for full test
    } else {
        // Default to a 25 question set if something unexpected happens
        quizData = shuffleArray([...fullQuizData]).slice(0, 25);
    }

    selectedAnswers = new Array(quizData.length).fill(null);
    skippedQuestions = new Array(quizData.length).fill(false);
    currentQuestion = 0;
    quizStarted = true;

    document.getElementById('quantitySelection').style.display = 'none';
    document.getElementById('quiz').style.display = 'block';
    document.getElementById('timer').style.display = 'block';

    loadQuestion();
    startTimer();
}


function loadQuestion() {
    if(quizData.length === 0) {
        document.getElementById('question').innerText = "No questions available.";
        document.getElementById('options').innerHTML = "";
        document.getElementById('prevBtn').disabled = true;
        document.getElementById('nextBtn').disabled = true;
        document.getElementById('skipBtn').style.display = 'none';
        document.getElementById('submitBtn').style.display = 'none';
        updateQuestionTracker();
        return;
    }
    const q = quizData[currentQuestion];
    document.getElementById('question').innerText = `${currentQuestion + 1}. ${q.question}`;
    const optionsDiv = document.getElementById('options');
    optionsDiv.innerHTML = "";

    const isCurrentQuestionAnswered = (selectedAnswers[currentQuestion] !== null) || skippedQuestions[currentQuestion];

    q.options.forEach((option) => {
        const btn = document.createElement("button");
        btn.classList.add("option-btn");
        btn.innerText = option;
        btn.setAttribute("role", "listitem");
        btn.onclick = () => selectOption(option, btn);

        if(isCurrentQuestionAnswered) {
            btn.disabled = true;
            if (option === q.answer) {
                btn.classList.add("correct");
            } else if (option === selectedAnswers[currentQuestion]) {
                btn.classList.add("incorrect");
            }
        } else {
            if(selectedAnswers[currentQuestion] === option) {
                btn.classList.add("selected");
            }
        }
        optionsDiv.appendChild(btn);
    });

    document.getElementById('prevBtn').disabled = currentQuestion === 0 || totalTime <= 0;
    document.getElementById('nextBtn').disabled = currentQuestion === quizData.length -1 || totalTime <= 0;
    document.getElementById('skipBtn').style.display = isCurrentQuestionAnswered ? "none" : "inline-block";
    document.getElementById('skipBtn').disabled = totalTime <= 0;
    document.getElementById('submitBtn').style.display = currentQuestion === quizData.length - 1 ? "inline-block" : "none";

    updateQuestionTracker();
}

function selectOption(option, clickedButton) {
    if(totalTime <= 0 || (selectedAnswers[currentQuestion] !== null && !skippedQuestions[currentQuestion])) return;

    selectedAnswers[currentQuestion] = option;
    skippedQuestions[currentQuestion] = false;

    const q = quizData[currentQuestion];
    const isCorrect = (option === q.answer);

    const optionButtons = document.querySelectorAll('#options .option-btn');
    optionButtons.forEach(btn => {
        btn.disabled = true;
        if (btn.innerText === q.answer) {
            btn.classList.add("correct");
        } else if (btn === clickedButton && !isCorrect) {
            btn.classList.add("incorrect");
        }
        btn.classList.remove("selected");
    });

    updateQuestionTracker();
}

function nextQuestion() {
    if (currentQuestion < quizData.length - 1) {
        currentQuestion++;
        loadQuestion();
    }
}

function prevQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion();
    }
}

function skipQuestion() {
    if(totalTime <= 0 || (selectedAnswers[currentQuestion] !== null && !skippedQuestions[currentQuestion])) return;

    skippedQuestions[currentQuestion] = true;
    selectedAnswers[currentQuestion] = null;
    updateQuestionTracker();
    nextQuestion();
}

function updateQuestionTracker() {
    const tracker = document.getElementById("questionTracker");
    tracker.innerHTML = "";
    quizData.forEach((_, index) => {
        const indicator = document.createElement("div");
        indicator.classList.add("question-indicator");

        if(selectedAnswers[index] !== null) {
            indicator.classList.add("answered");
            indicator.classList.remove("skipped");
        } else if(skippedQuestions[index]) {
            indicator.classList.add("skipped");
            indicator.classList.remove("answered");
        } else {
            indicator.classList.remove("answered", "skipped");
        }

        if(index === currentQuestion) {
            indicator.classList.add("active");
        }
        indicator.innerText = index + 1;
        indicator.setAttribute("aria-label", `Question ${index + 1} ${index === currentQuestion ? '(current)' : ''} ${selectedAnswers[index] !== null ? 'answered' : skippedQuestions[index] ? 'skipped' : 'not attempted'}`);
        indicator.onclick = () => {
            if(totalTime <= 0) return;
            currentQuestion = index;
            loadQuestion();
        };
        tracker.appendChild(indicator);
    });
}

function endQuiz() {
    clearInterval(timerInterval);
    quizStarted = false;
    document.querySelectorAll(".option-btn").forEach(btn => btn.disabled = true);
    document.getElementById("prevBtn").disabled = true;
    document.getElementById("nextBtn").disabled = true;
    document.getElementById("skipBtn").disabled = true;
    document.getElementById("submitBtn").disabled = true;

    let correctCount = 0;
    let incorrectQuestions = [];

    quizData.forEach((q, i) => {
        if (selectedAnswers[i] !== null) {
            if (selectedAnswers[i] === q.answer) {
                correctCount++;
            } else {
                incorrectQuestions.push({
                    question: q.question,
                    yourAnswer: selectedAnswers[i],
                    correctAnswer: q.answer
                });
            }
        } else if (skippedQuestions[i]) {
             incorrectQuestions.push({
                question: q.question,
                yourAnswer: "(Skipped)",
                correctAnswer: q.answer
            });
        }
    });

    sessionStorage.setItem('quizScore', correctCount);
    sessionStorage.setItem('quizTotal', quizData.length);
    sessionStorage.setItem('quizIncorrect', JSON.stringify(incorrectQuestions));

    // Redirect to results page, ensure you have a results.html file
    window.location.href = "results.html";
}


// Event Listener for Skip Button
document.getElementById("skipBtn").addEventListener("click", skipQuestion);

// Function to generate quantity selection radio buttons
function generateQuantityOptions() {
    const radioOptionsDiv = document.getElementById('radioOptions');
    radioOptionsDiv.innerHTML = ''; // Clear existing options

    const totalQuestions = fullQuizData.length;
    const questionsPerSet = 25;
    const num25QuestionSets = Math.floor(totalQuestions / questionsPerSet);
    const remainingQuestions = totalQuestions % questionsPerSet;

    // Add 25-question sets
    for (let i = 0; i < num25QuestionSets; i++) {
        const label = document.createElement('label');
        label.innerHTML = `
            <input type="radio" name="questionSet" value="set_${i}" ${i === 0 ? 'checked' : ''}> Set ${i + 1} (${questionsPerSet} Questions)
        `;
        radioOptionsDiv.appendChild(label);
    }

    // Add a set for remaining questions if any
    if (remainingQuestions > 0) {
        const label = document.createElement('label');
        label.innerHTML = `
            <input type="radio" name="questionSet" value="set_${num25QuestionSets}"> Set ${num25QuestionSets + 1} (${remainingQuestions} Questions)
        `;
        radioOptionsDiv.appendChild(label);
    }

    // Add Full Test option
    const fullTestLabel = document.createElement('label');
    fullTestLabel.innerHTML = `
        <input type="radio" name="questionSet" value="full" ${num25QuestionSets === 0 && remainingQuestions === 0 ? 'checked' : ''}> Full Test (${totalQuestions} Questions)
    `;
    radioOptionsDiv.appendChild(fullTestLabel);
}

// Initialize quiz setup on page load
window.onload = function() {
    document.getElementById('quiz').style.display = 'none'; // Hide quiz initially
    document.getElementById('timer').style.display = 'none'; // Hide timer initially
    generateQuantityOptions(); // Populate radio buttons
};
</script>
</body>
</html>