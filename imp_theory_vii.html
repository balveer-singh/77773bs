<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Quiz</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap');
    body {
        margin: 0; padding: 20px;
        font-family: 'Montserrat', sans-serif;
        background: linear-gradient(135deg, #74ebd5 0%, #ACB6E5 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: flex-start;
    }
    .quiz-container {
        background: white;
        max-width: 600px;
        width: 100%;
        border-radius: 12px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        padding: 30px 40px;
        box-sizing: border-box;
        margin-top: 30px;
    }
    .timer {
        font-size: 18px;
        color: #444;
        text-align: right;
        margin-bottom: 15px;
        font-weight: 600;
        letter-spacing: 0.05em;
        user-select: none;
    }
    .question {
        font-size: 1.5rem;
        font-weight: 600;
        color: #222;
        margin-bottom: 20px;
        min-height: 80px;
        line-height: 1.3;
    }
    .options {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }
    .option-btn {
        background-color: #f5f7fa;
        border: 2px solid #d1d9e6;
        border-radius: 8px;
        padding: 12px 20px;
        font-size: 1.1rem;
        color: #555;
        cursor: pointer;
        text-align: left;
        transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
        user-select: none;
    }
    .option-btn:hover:not(:disabled) {
        background-color: #e0e7ff;
        border-color: #5964ff;
        color: #2a2e8f;
    }
    .option-btn.selected {
        background-color: #5964ff;
        border-color: #364fc7;
        color: white;
        font-weight: 600;
    }
    .option-btn:disabled {
        cursor: default;
        opacity: 0.7;
    }
    /* New styles for feedback */
    .option-btn.correct {
        background-color: #e6ffed; /* Light green */
        border-color: #2f9e44; /* Green */
        color: #2f9e44;
        font-weight: 600;
    }
    .option-btn.incorrect {
        background-color: #ffe3e3; /* Light red */
        border-color: #f03e3e; /* Red */
        color: #c92a2a;
        font-weight: 600;
    }
    .navigation {
        margin-top: 30px;
        display: flex;
        justify-content: space-between;
        gap: 10px;
    }
    .navigation button {
        flex: 1;
        padding: 14px 0;
        font-size: 1.1rem;
        font-weight: 600;
        border-radius: 50px;
        border: none;
        background-color: #5964ff;
        color: white;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(89,100,255,0.5);
        transition: background-color 0.3s ease;
        user-select: none;
    }
    .navigation button:hover:not(:disabled) {
        background-color: #2a2e8f;
        box-shadow: 0 6px 18px rgba(42,46,143,0.7);
    }
    .navigation button:disabled {
        background-color: #ccc;
        color: #777;
        cursor: not-allowed;
        box-shadow: none;
    }
    .result {
        font-size: 1.4rem;
        font-weight: 700;
        color: #364fc7;
        margin-top: 20px;
        text-align: center;
        user-select: none;
    }
    .question-tracker {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin: 20px auto;
        justify-content: center;
    }
    .question-indicator {
        width: 32px;
        height: 32px;
        line-height: 32px;
        text-align: center;
        border-radius: 50%;
        background-color: white;
        color: black;
        font-weight: bold;
        border: 2px solid #ccc;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    .question-indicator.answered {
        background-color: green;
        color: white;
        border: 2px solid darkgreen;
    }
    .question-indicator.skipped {
        background-color: #f7c948;
        color: black;
        border: 2px solid #f7c948;
    }
    .question-indicator.active {
        border: 3px solid blue;
    }
    /* Styles for the question quantity selection */
    .question-quantity-selection {
        text-align: center;
        margin-bottom: 25px;
        padding: 20px;
        border: 1px solid #eee;
        border-radius: 8px;
        background-color: #f9f9f9;
    }
    .question-quantity-selection h3 {
        margin-top: 0;
        color: #333;
        font-size: 1.3rem;
    }
    .question-quantity-selection label {
        margin: 0 15px;
        font-size: 1.1rem;
        color: #555;
        cursor: pointer;
    }
    .start-quiz-btn {
        padding: 12px 30px;
        font-size: 1.2rem;
        font-weight: 600;
        border-radius: 50px;
        border: none;
        background-color: #28a745; /* Green color */
        color: white;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(40,167,69,0.5);
        transition: background-color 0.3s ease;
        margin-top: 20px;
    }
    .start-quiz-btn:hover {
        background-color: #218838;
        box-shadow: 0 6px 18px rgba(33,136,56,0.7);
    }
    .start-quiz-btn:disabled {
        background-color: #ccc;
        cursor: not-allowed;
    }


    @media (max-width: 480px) {
        .quiz-container {
            padding: 25px 20px;
            margin-top: 20px;
        }
        .question {
            font-size: 1.25rem;
            min-height: 60px;
        }
        .option-btn {
            font-size: 1rem;
            padding: 10px 16px;
        }
        .navigation button {
            font-size: 1rem;
            padding: 12px 0;
        }
        .timer {
            font-size: 16px;
        }
        .question-quantity-selection {
            padding: 15px;
        }
        .question-quantity-selection h3 {
            font-size: 1.1rem;
        }
        .question-quantity-selection label {
            font-size: 1rem;
            margin: 0 10px;
        }
        .start-quiz-btn {
            font-size: 1.1rem;
            padding: 10px 25px;
        }
    }
</style>
</head>
<body>

<div class="quiz-container" role="main" aria-label="Quiz container">
    <div class="timer" id="timer" aria-live="polite" style="display:none;">Time Remaining: 50:00</div>
    <div class="question-tracker" id="questionTracker"></div>

    <div id="quantitySelection" class="question-quantity-selection">
        <h3>Choose your question set for the test:</h3>
        <div id="radioOptions">
            <label>
                <input type="radio" name="numQuestions" value="1-25" checked> Questions 1-25
            </label>
            <label id="set26_50_label" style="display:none;">
                <input type="radio" name="numQuestions" value="26-50" id="set26_50_radio"> Questions 26-50
            </label>
            <label id="set26_X_label" style="display:none;">
                <input type="radio" name="numQuestions" value="26-X" id="set26_X_radio"> Questions 26-X (Remaining)
            </label>
            <label id="allQuestionsLabel" style="display:none;">
                <input type="radio" name="numQuestions" value="all" id="allQuestionsRadio"> Full Test (All Questions)
            </label>
        </div>
        <button class="start-quiz-btn" onclick="startQuiz()">Start Quiz</button>
    </div>

    <div id="quiz" style="display:none;">
        <div class="question" id="question" aria-live="polite">Question text will appear here</div>
        <div class="options" id="options" role="list"></div>
        <div class="navigation" role="navigation" aria-label="Quiz navigation">
            <button id="prevBtn" onclick="prevQuestion()" aria-label="Previous Question">Previous</button>
            <button id="nextBtn" onclick="nextQuestion()" aria-label="Next Question">Next</button>
            <button id="skipBtn" aria-label="Skip Question">Skip</button>
            <button id="submitBtn" onclick="endQuiz()" style="display:none;" aria-label="Submit Quiz">Submit</button>
        </div>
        <div class="result" id="result" aria-live="polite"></div>
    </div>
</div>

<script>
    const fullQuizData = [
     {
    "question": "Which data type in Python is used to store key-value pairs? | Python मेंकौन सा डेटा प्रकार कुं जी-मूल्य जोड़ों को सुंग्रहित करने के लिए प्रयक् त िोता िै?",
    "options": [
      "tuple",
      "set",
      "list",
      "dict"
    ],
    "answer": "dict"
  },
  {
    "question": "Which statement is used to terminate the execution of a loop prematurely in Python? | Python मेंएक िूप के ननष्कर्ष को पूर्ाषर्िोकन के अुंत मेंसमाप्त करने के लिए कौन सा र्क्तव्य प्रयक् त िोता िै?",
    "options": [
      "break",
      "continue",
      "exit",
      "stop"
    ],
    "answer": "break"
  },
  {
    "question": "Which function is used to format and print a string with placeholders in Python? | Python में स्थानधारक़ों के साथ स्टस्रुंग को स्र्रूपपत और पप्रुंट करने के लिए ककस फुं क्शन का उपयोग ककया जाता िै?",
    "options": [
      "print()",
      "format()",
      "printf()",
      "println()"
    ],
    "answer": "format()"
  },
  {
    "question": "Which function is used to print a value to the standard output in Python? | Python मेंमान को म ख्य आउटप ट पर पप्रुंट करने के लिए ककस फुं क्शन का उपयोग ककया जाता िै?",
    "options": [
      "print()",
      "printf()",
      "println()",
      "write()"
    ],
    "answer": "print()"
  },
  {
    "question": "Which data type in Python is used to store a sequence of characters? | Python में कौन सा डेटा प्रकार र्र्ष श्ुंखर िा को सुंग्रहित करनेके लिए प्रयक् त िोता िै?",
    "options": [
      "int",
      "float",
      "str",
      "list"
    ],
    "answer": "str"
  },
  {
    "question": "What is the purpose of the if statement in Python? | पायथन में if स्टेटमेंट का उद्देश्य क्या िै?",
    "options": [
      "To execute a block of code only if a condition is true",
      "To execute a block of code only if a condition is false",
      "To execute a block of code repeatedly",
      "To define a function"
    ],
    "answer": "To execute a block of code only if a condition is true"
  },
  {
    "question": "JavaScript Code can be called by using _______ | जार्ास्टस्िप्ट कोड को _______ का उपयोग करके ब िा सकते िैं ।",
    "options": [
      "RMI",
      "Function/method | फुं क्शन /मेथड",
      "Triggering event | इवेंट को बढ़ाकर",
      "preprocessor | प्रीप्रोसेसर"
    ],
    "answer": "Function/method | फुं क्शन /मेथड"
  },
  {
    "question": "Which data type in Python is used to represent a logical value indicating either True or False? | Python में ककस डेटा प्रकार का उपयोग सत्य या असत्य को इुंगगत करने र्ािे िॉस्टजकि र्ैल्यूको दशाषने के लिए ककया जाता िै?",
    "options": [
      "int",
      "float",
      "str",
      "bool"
    ],
    "answer": "bool"
  },
  {
    "question": "The keyword or the property that you use to refer to an object through which they were invoked is _________ | र्ि कीर्डष या प्रॉपटी स्टजसका उपयोग आप ककसी ऑब्जेक्ट को सुंदलभषत करने के लिए करते िैं स्टजसके माध्यम से उन्िें ब िाया गया था र्ि _________ िै",
    "options": [
      "from",
      "to",
      "this",
      "object"
    ],
    "answer": "this"
  },
  {
    "question": "Which keyword is used to define an alternative block of code to execute if the condition in the if statement is false? | यहद कथन में शतष गित िै तो ननष्पाहदत करने के लिए कोड के र्ैकस्टल्पक ब्िॉक को पररभापर्त करने के लिए ककस कीर्डष का उपयोग ककया जाता िै?",
    "options": [
      "else",
      "elif",
      "while",
      "for"
    ],
    "answer": "else"
  },
  {
    "question": "What is the data type of the result of the expression 3 + 2.5 in Python? | Python में एक्सप्रेशन 3 + 2.5 का डेटा प्रकार क्या िोगा?",
    "options": [
      "int",
      "float",
      "str",
      "bool"
    ],
    "answer": "float"
  },
  {
    "question": "What is the default separator between multiple values passed to the print() function in Python? | Python में print() फुं क्शन को अनेक माऩों के बीच डडफॉल्ट सेपरेटर क्या िोता िै?",
    "options": [
      "Space | स्पेस",
      "Comma | कॉमा",
      "Tab | टैब",
      "Newline | न्यूलाइि"
    ],
    "answer": "Space | स्पेस"
  },
  {
    "question": "Which function is used to read a line from the standard input in Python? | Python मेंमानक इनप ट से एक िाइन रीड करने के लिए ककस फुं क्शन का उपयोग ककया जाता िै?",
    "options": [
      "input()",
      "read()",
      "readline()",
      "getline()"
    ],
    "answer": "input()"
  },
  {
    "question": "Which data type is mutable in Python? | Python में कौन सा डेटा प्रकार पररर्तषनशीि िोता िै?",
    "options": [
      "int",
      "float",
      "list",
      "tuple"
    ],
    "answer": "list"
  },
  {
    "question": "What does the end parameter in the print() function specify? | print() फुं क्शन में end पैरामीटर का क्या स्पष्टीकरर् करता िै?",
    "options": [
      "The character to be printed at the end of each line",
      "The character to be printed between multiple values",
      "The number of characters to print from the beginning of each line",
      "The number of characters to print from the end of each line"
    ],
    "answer": "The character to be printed at the end of each line"
  },
  {
    "question": "What is the purpose of the static keyword in method declaration? | मेथड घोर्र्ा में static कीर्डष का क्या उद्देश्य िोता िै?",
    "options": [
      "To indicate that the method is final and cannot be overridden",
      "To indicate that the method can be accessed without creating an instance of the class",
      "To indicate that the method can only be accessed within the same class",
      "To indicate that the method is abstract and must be implemented by subclasses"
    ],
    "answer": "To indicate that the method can be accessed without creating an instance of the class"
  },
  {
    "question": "Which data type in Python is used to store an unordered collection of unique elements? | Python में कौन सा डेटा प्रकार अन िलमत सुंग्रिर् मेंअद्पर्तीय तत्ऱ्ों को सुंग्रहित करने के लिए प्रयक् त िोता िै?",
    "options": [
      "tuple",
      "set",
      "list",
      "dict"
    ],
    "answer": "set"
  },
  {
    "question": "Which of the following function of String object creates a string to be displayed in a big font as if it were in a tag? | स्टस्रुंग ऑब्जेक्ट का ननम्नलिखखत में से कौनसा फुं क्शन बडे फॉण्ट में प्रदलशषत िोने के लिए एक स्टस्रुंग बनता िै जैसे कक र्ि  टैग में था?",
    "options": [
      "anchor()",
      "big()",
      "blink()",
      "italics()"
    ],
    "answer": "big()"
  },
  {
    "question": "What is the output of type(5) in Python? | Python में type(5) का आउटप ट क्या िोगा?",
    "options": [
      "int",
      "float",
      "str",
      "list"
    ],
    "answer": "int"
  },
  {
    "question": "Which keyword is used to skip the rest of the current iteration and continue to the next iteration in a loop? | िूप मेंर्तमष ान अन रोध को छोडनेऔर अगिे अन रोध मेंजारी रखने के लिए कौन सा कीर्डष प्रय क्त िोता िै?",
    "options": [
      "skip",
      "next",
      "continue",
      "pass"
    ],
    "answer": "continue"
  },
  {
    "question": "Which escape character is used to insert a newline in a string printed by the print() function? | print() फुं क्शन द्र्ारा पप्रटुं ककए जाने र्ािेस्टस्रुंग मेंन्यूिाइन डािने के लिए कौन सा एस्केप र्र्ष प्रय क्त िोता िै?",
    "options": [
      "\\n",
      "\\t",
      "\\",
      "\\r"
    ],
    "answer": "\\n"
  },
  {
    "question": "The scope of a function is also called as ________ | एक फुं क्शन के scope को भी ________ किा जाता िै",
    "options": [
      "Predefined function | पूवनतििातररत फ़ंक्शि",
      "Module function | मॉड्यूि फुंक्शन",
      "Public function | सावतजनिक फ़ं क्शि",
      "Private function | निजी फ़ं क्शि"
    ],
    "answer": "Module function | मॉड्यूि फुंक्शन"
  },
  {
    "question": "What is the primary purpose of a while loop in Python? | Python में while िूप का म ख्य उद्देश्य क्या िोता िै?",
    "options": [
      "To execute a block of code a specified number of times",
      "To execute a block of code repeatedly as long as a condition is true",
      "To execute a block of code once",
      "To execute a block of code only if a condition is true"
    ],
    "answer": "To execute a block of code repeatedly as long as a condition is true"
  },
  {
    "question": "Which keyword is used to define a method in Python? | Python में एक मेथड को पररभापर्त करने के लिए कौन सा कीर्डष प्रय क्त िोता िै?",
    "options": [
      "function",
      "method",
      "def",
      "class"
    ],
    "answer": "def"
  },
  {
    "question": "Which of the following is a built-in method in Python used to get the length of a sequence? | ननम्नलिखखत में से कौन सा एक ऐसा बबल्ट-इन मेथड िै स्टजसका उपयोग एक लसरर्ी की िुंबाई प्राप्त करने के लिए ककया जाता िै?",
    "options": [
      "count()",
      "length()",
      "size()",
      "len()"
    ],
    "answer": "len()"
  }
  ];

let quizData = [];
    let currentQuestion = 0;
    let selectedAnswers = [];
    let questionAnsweredStatus = [];
    let totalTime = 50 * 60; // 50 minutes in seconds
    let timerInterval;

    function startTimer() {
        updateTimer();
        timerInterval = setInterval(() => {
            totalTime--;
            updateTimer();
            if (totalTime <= 0) {
                clearInterval(timerInterval);
                endQuiz();
            }
        }, 1000);
    }

    function updateTimer() {
        const minutes = Math.floor(totalTime / 60);
        const seconds = totalTime % 60;
        document.getElementById("timer").innerText = `Time Remaining: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
    }

    // Function to shuffle an array (Fisher-Yates algorithm)
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function startQuiz() {
        const selectedSet = document.querySelector('input[name="numQuestions"]:checked').value;
        let startIndex = 0;
        let endIndex = fullQuizData.length;

        if (selectedSet === "1-25") {
            startIndex = 0;
            endIndex = Math.min(25, fullQuizData.length);
            quizData = fullQuizData.slice(startIndex, endIndex); // No shuffling for this set
        } else if (selectedSet === "26-50") {
            startIndex = 25; // Index 25 is the 26th question
            endIndex = Math.min(50, fullQuizData.length);
            quizData = fullQuizData.slice(startIndex, endIndex); // No shuffling for this set
        } else if (selectedSet === "26-X") { // This now means "26 to remaining"
            startIndex = 25; // Index 25 is the 26th question
            endIndex = fullQuizData.length; // Go to the end of available questions
            quizData = fullQuizData.slice(startIndex, endIndex); // No shuffling for this set
        } else if (selectedSet === "all") {
            quizData = shuffleArray([...fullQuizData]); // Shuffle all questions
        } else {
            // Default case if no selection (e.g., auto-start for <= 25 questions)
            quizData = [...fullQuizData]; // Use all available questions without shuffling
        }


        // Initialize arrays based on the selected number of questions
        selectedAnswers = new Array(quizData.length).fill(null);
        questionAnsweredStatus = new Array(quizData.length).fill(false);
        currentQuestion = 0; // Reset to the first question for the chosen set

        // Hide quantity selection and show quiz
        document.getElementById('quantitySelection').style.display = 'none';
        document.getElementById('quiz').style.display = 'block';
        document.getElementById('timer').style.display = 'block';

        loadQuestion();
        startTimer();
    }

    function loadQuestion() {
        if (quizData.length === 0) {
            document.getElementById('question').innerText = "No questions available for this set.";
            document.getElementById('options').innerHTML = "";
            document.getElementById('prevBtn').disabled = true;
            document.getElementById('nextBtn').disabled = true;
            document.getElementById('skipBtn').style.display = 'none';
            document.getElementById('submitBtn').style.display = 'none';
            updateQuestionTracker();
            return;
        }

        const q = quizData[currentQuestion];
        let questionText = q.question;
        // Remove "Question XX: " or "Question XX:" prefix
        questionText = questionText.replace(/^Question \d+:\s*/, '');
        document.getElementById('question').innerText = `${currentQuestion + 1}. ${questionText}`;

        const optionsDiv = document.getElementById('options');
        optionsDiv.innerHTML = "";

        const isCurrentQuestionAnswered = questionAnsweredStatus[currentQuestion];

        q.options.forEach((option, index) => {
            const btn = document.createElement("button");
            btn.classList.add("option-btn");
            btn.innerText = option;
            btn.setAttribute("role", "listitem");
            btn.onclick = () => selectOption(option, btn);

            if (isCurrentQuestionAnswered) {
                btn.disabled = true;
                if (option === q.answer) {
                    btn.classList.add("correct");
                } else if (option === selectedAnswers[currentQuestion]) {
                    btn.classList.add("incorrect");
                }
            } else {
                if (selectedAnswers[currentQuestion] === option) {
                    btn.classList.add("selected");
                }
            }
            optionsDiv.appendChild(btn);
        });

        document.getElementById('prevBtn').disabled = currentQuestion === 0 || totalTime <= 0;
        document.getElementById('nextBtn').disabled = currentQuestion === quizData.length - 1 || totalTime <= 0;
        document.getElementById('skipBtn').style.display = isCurrentQuestionAnswered ? "none" : "inline-block";
        document.getElementById('skipBtn').disabled = totalTime <= 0;
        document.getElementById('submitBtn').style.display = currentQuestion === quizData.length - 1 ? "inline-block" : "none";

        updateQuestionTracker();
    }

    function selectOption(option, clickedButton) {
        if (totalTime <= 0 || questionAnsweredStatus[currentQuestion]) return;

        selectedAnswers[currentQuestion] = option;
        questionAnsweredStatus[currentQuestion] = true;

        const q = quizData[currentQuestion];
        const isCorrect = (option === q.answer);

        const optionButtons = document.querySelectorAll('#options .option-btn');
        optionButtons.forEach(btn => {
            btn.disabled = true;
            if (btn.innerText === q.answer) {
                btn.classList.add("correct");
            } else if (btn === clickedButton && !isCorrect) {
                btn.classList.add("incorrect");
            }
            btn.classList.remove("selected");
        });

        updateQuestionTracker();
    }

    function nextQuestion() {
        if (currentQuestion < quizData.length - 1) {
            currentQuestion++;
            loadQuestion();
        }
    }

    function prevQuestion() {
        if (currentQuestion > 0) {
            currentQuestion--;
            loadQuestion();
        }
    }

    function skipQuestion() {
        if (totalTime <= 0 || questionAnsweredStatus[currentQuestion]) return;

        selectedAnswers[currentQuestion] = null;
        questionAnsweredStatus[currentQuestion] = false;
        updateQuestionTracker();
        nextQuestion();
    }

    function updateQuestionTracker() {
        const tracker = document.getElementById("questionTracker");
        tracker.innerHTML = "";
        quizData.forEach((_, index) => {
            const indicator = document.createElement("div");
            indicator.classList.add("question-indicator");

            if (questionAnsweredStatus[index]) {
                indicator.classList.add("answered");
            } else if (selectedAnswers[index] === null) {
                indicator.classList.remove("answered");
                indicator.classList.add("skipped");
            }

            if (index === currentQuestion) {
                indicator.classList.add("active");
            }
            indicator.innerText = index + 1;
            indicator.setAttribute("aria-label", `Question ${index + 1} ${index === currentQuestion ? '(current)' : ''} ${questionAnsweredStatus[index] ? 'answered' : 'not answered'}`);
            indicator.onclick = () => {
                if (totalTime <= 0) return;
                currentQuestion = index;
                loadQuestion();
            };
            tracker.appendChild(indicator);
        });
    }

    function endQuiz() {
        clearInterval(timerInterval);
        document.querySelectorAll(".option-btn").forEach(btn => btn.disabled = true);
        document.getElementById("prevBtn").disabled = true;
        document.getElementById("nextBtn").disabled = true;
        document.getElementById("skipBtn").disabled = true;
        document.getElementById("submitBtn").disabled = true;

        let correctCount = 0;
        let incorrectQuestions = [];

        quizData.forEach((q, i) => {
            if (selectedAnswers[i] === q.answer) {
                correctCount++;
            } else {
                incorrectQuestions.push({
                    question: q.question,
                    yourAnswer: selectedAnswers[i] || "(No answer selected)",
                    correctAnswer: q.answer
                });
            }
        });

        sessionStorage.setItem('quizScore', correctCount);
        sessionStorage.setItem('quizTotal', quizData.length);
        sessionStorage.setItem('quizIncorrect', JSON.stringify(incorrectQuestions));

        window.location.href = "results.html";
    }

    document.getElementById("skipBtn").addEventListener("click", skipQuestion);

    window.onload = function() {
        const quantitySelectionDiv = document.getElementById('quantitySelection');
        const quizDiv = document.getElementById('quiz');
        const radioOptionsDiv = document.getElementById('radioOptions'); // New: Div to hold radio buttons
        const set26_50_label = document.getElementById('set26_50_label'); // For 26-50
        const set26_X_label = document.getElementById('set26_X_label');   // For 26-Remaining
        const allQuestionsLabel = document.getElementById('allQuestionsLabel');

        const totalAvailableQuestions = fullQuizData.length;

        if (totalAvailableQuestions <= 25 && totalAvailableQuestions > 0) {
            // Scenario 1: Total questions are 25 or less (but more than 0)
            quantitySelectionDiv.style.display = 'none'; // Hide the selection
            quizDiv.style.display = 'block'; // Show the quiz directly
            document.getElementById('timer').style.display = 'block';

            quizData = [...fullQuizData]; // Use all available questions
            selectedAnswers = new Array(quizData.length).fill(null);
            questionAnsweredStatus = new Array(quizData.length).fill(false);
            loadQuestion();
            startTimer();

        } else if (totalAvailableQuestions > 25) {
            // Scenario 2: Total questions are more than 25
            quantitySelectionDiv.style.display = 'block'; // Show the selection
            quizDiv.style.display = 'none';
            document.getElementById('timer').style.display = 'none';

            // Show and set up "Questions 1-25" (already in HTML, just ensure checked)
            document.querySelector('input[name="numQuestions"][value="1-25"]').checked = true;

            // Handle "Questions 26-50"
            if (totalAvailableQuestions >= 50) {
                set26_50_label.style.display = 'inline-block';
                document.getElementById('set26_50_radio').disabled = false;
            } else {
                set26_50_label.style.display = 'none';
            }

            // Handle "Questions 26-X (Remaining)" - always available if > 25
            set26_X_label.style.display = 'inline-block';
            const set26_X_radio = document.getElementById('set26_X_radio');
            set26_X_radio.value = `26-${totalAvailableQuestions}`; // Update value
            set26_X_label.innerHTML = `<input type="radio" name="numQuestions" value="26-X" id="set26_X_radio"> Questions 26-${totalAvailableQuestions} (Remaining)`;
            document.getElementById('set26_X_radio').disabled = false;


            // Show "Full Test (All Questions)" option
            allQuestionsLabel.style.display = 'block';
            document.getElementById('allQuestionsRadio').disabled = false;

        } else {
            // Scenario 3: No questions at all
            quantitySelectionDiv.style.display = 'none';
            quizDiv.style.display = 'block';
            document.getElementById('timer').style.display = 'none';
            document.getElementById('question').innerText = "No questions available in the quiz data.";
            document.getElementById('options').innerHTML = "";
            document.getElementById('prevBtn').disabled = true;
            document.getElementById('nextBtn').disabled = true;
            document.getElementById('skipBtn').style.display = 'none';
            document.getElementById('submitBtn').style.display = 'none';
        }
    };
</script>
</body>
</html>